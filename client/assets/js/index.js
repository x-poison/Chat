const _0x28228c=_0x357f;(function(_0x637e07,_0x3c3f66){const _0x509692=_0x357f,_0x4c4b65=_0x637e07();while(!![]){try{const _0x271682=-parseInt(_0x509692(0x181))/0x1*(parseInt(_0x509692(0x170))/0x2)+parseInt(_0x509692(0x17f))/0x3+parseInt(_0x509692(0x185))/0x4+-parseInt(_0x509692(0x180))/0x5*(parseInt(_0x509692(0x15d))/0x6)+parseInt(_0x509692(0x16d))/0x7*(-parseInt(_0x509692(0x148))/0x8)+parseInt(_0x509692(0x17c))/0x9*(parseInt(_0x509692(0x14e))/0xa)+-parseInt(_0x509692(0x147))/0xb*(-parseInt(_0x509692(0x160))/0xc);if(_0x271682===_0x3c3f66)break;else _0x4c4b65['push'](_0x4c4b65['shift']());}catch(_0x18d2a9){_0x4c4b65['push'](_0x4c4b65['shift']());}}}(_0xbfc5,0x775f6));const API_URL='/',converter=new showdown['Converter']();let promptToRetry=null,uniqueIdToRetry=null;const submitButton=document['getElementById'](_0x28228c(0x16a)),regenerateResponseButton=document[_0x28228c(0x14b)](_0x28228c(0x184)),promptInput=document[_0x28228c(0x14b)](_0x28228c(0x157)),modelSelect=document['getElementById'](_0x28228c(0x145)),responseList=document[_0x28228c(0x14b)](_0x28228c(0x183)),fileInput=document[_0x28228c(0x14b)](_0x28228c(0x177));function _0xbfc5(){const _0x3dcef2=['....','add','random','chatgpt','HTTP\x20Error:\x20','<div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x22avatar-image\x22\x20src=\x22assets/img/','ctrlKey','prompt-input','<br/><br/>','scrollHeight','style','color','classList','126DRjmUs','click','shiftKey','12QpVqbR','DOMContentLoaded','key','\x22\x20class=\x22ai-image\x22\x20alt=\x22generated\x20image\x22/>','my-question','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22response-container\x20','append','whisper','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','submit-button','POST','toString','11711QkHXaD','insertAdjacentHTML','<img\x20src=\x22','2iYxDXv','application/json','display','beforeend','value','textContent','block','whisper-file','.png\x22\x20alt=\x22avatar\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22prompt-content\x22\x20id=\x22','flex','addEventListener','scrollTop','9BcjpAL','keydown','rgb(200,\x200,\x200)','99915wVbtdV','133230swquuN','407557xSWNsn','insertHTML','response-list','regenerate-response-button','2757572ptsXDD','none','log','innerHTML','remove','focus','makeHtml','message','model-select','loading','4119005HSwuYL','2488WpXNVu','id-','Enter','getElementById','files','Error:\x20','8792230AVLDYu'];_0xbfc5=function(){return _0x3dcef2;};return _0xbfc5();}modelSelect[_0x28228c(0x17a)]('change',function(){const _0x360987=_0x28228c;modelSelect[_0x360987(0x174)]==='whisper'?(fileInput[_0x360987(0x15a)][_0x360987(0x172)]=_0x360987(0x176),promptInput[_0x360987(0x15a)][_0x360987(0x172)]=_0x360987(0x186)):(fileInput[_0x360987(0x15a)][_0x360987(0x172)]=_0x360987(0x186),promptInput[_0x360987(0x15a)][_0x360987(0x172)]=_0x360987(0x176));});let isGeneratingResponse=![],loadInterval=null;promptInput[_0x28228c(0x17a)](_0x28228c(0x17d),function(_0x4c790a){const _0x315469=_0x28228c;_0x4c790a[_0x315469(0x162)]===_0x315469(0x14a)&&(_0x4c790a['preventDefault'](),_0x4c790a[_0x315469(0x156)]||_0x4c790a[_0x315469(0x15f)]?document['execCommand'](_0x315469(0x182),![],_0x315469(0x158)):getGPTResult());});function generateUniqueId(){const _0x471505=_0x28228c,_0x9977ea=Date['now'](),_0x581634=Math[_0x471505(0x151)](),_0xf85f83=_0x581634[_0x471505(0x16c)](0x10);return _0x471505(0x149)+_0x9977ea+'-'+_0xf85f83;}function addResponse(_0x4cded4,_0x5e1b66){const _0x33c3cb=_0x28228c,_0x2af4cd=generateUniqueId(),_0x459221=_0x33c3cb(0x166)+(_0x4cded4?_0x33c3cb(0x164):'chatgpt-response')+_0x33c3cb(0x155)+(_0x4cded4?'me':_0x33c3cb(0x152))+_0x33c3cb(0x178)+_0x2af4cd+'\x22>'+_0x5e1b66+_0x33c3cb(0x169);return responseList[_0x33c3cb(0x16e)](_0x33c3cb(0x173),_0x459221),responseList[_0x33c3cb(0x17b)]=responseList[_0x33c3cb(0x159)],_0x2af4cd;}function loader(_0xb41a61){_0xb41a61['textContent']='',loadInterval=setInterval(()=>{const _0x421f60=_0x357f;_0xb41a61[_0x421f60(0x175)]+='.',_0xb41a61['textContent']===_0x421f60(0x14f)&&(_0xb41a61[_0x421f60(0x175)]='');},0x12c);}function _0x357f(_0x2b1cf8,_0x593f2e){const _0xbfc570=_0xbfc5();return _0x357f=function(_0x357fb9,_0x29f766){_0x357fb9=_0x357fb9-0x143;let _0x5c0e19=_0xbfc570[_0x357fb9];return _0x5c0e19;},_0x357f(_0x2b1cf8,_0x593f2e);}function setErrorForResponse(_0x3aaa73,_0x101f2f){const _0x2a714e=_0x28228c;_0x3aaa73['innerHTML']=_0x101f2f,_0x3aaa73['style'][_0x2a714e(0x15b)]=_0x2a714e(0x17e);}function setRetryResponse(_0x4d4d84,_0x77e5d8){const _0x47a48c=_0x28228c;promptToRetry=_0x4d4d84,uniqueIdToRetry=_0x77e5d8,regenerateResponseButton[_0x47a48c(0x15a)]['display']=_0x47a48c(0x179);}async function regenerateGPTResult(){const _0x4daf02=_0x28228c;try{await getGPTResult(promptToRetry,uniqueIdToRetry),regenerateResponseButton[_0x4daf02(0x15c)][_0x4daf02(0x150)](_0x4daf02(0x146));}finally{regenerateResponseButton[_0x4daf02(0x15c)][_0x4daf02(0x189)](_0x4daf02(0x146));}}async function getWhisperResult(){const _0xef4d55=_0x28228c;if(!fileInput[_0xef4d55(0x14c)]?.['length'])return;const _0x606e76=new FormData();_0x606e76[_0xef4d55(0x167)]('audio',fileInput[_0xef4d55(0x14c)][0x0]);const _0x2aabc0=addResponse(![]),_0x35f123=document[_0xef4d55(0x14b)](_0x2aabc0);isGeneratingResponse=!![],loader(_0x35f123);try{submitButton[_0xef4d55(0x15c)][_0xef4d55(0x150)]('loading');const _0x2f1781=await fetch('/transcribe',{'method':_0xef4d55(0x16b),'body':_0x606e76});if(!_0x2f1781['ok']){setErrorForResponse(_0x35f123,_0xef4d55(0x153)+await _0x2f1781['text']());return;}const _0x39c163=await _0x2f1781['text']();_0x35f123[_0xef4d55(0x188)]='<div>'+_0x39c163+_0xef4d55(0x165);}catch(_0x55cd7a){console[_0xef4d55(0x187)](_0x55cd7a),setErrorForResponse(_0x35f123,_0xef4d55(0x14d)+_0x55cd7a[_0xef4d55(0x144)]);}finally{isGeneratingResponse=![],submitButton[_0xef4d55(0x15c)][_0xef4d55(0x189)](_0xef4d55(0x146)),clearInterval(loadInterval);}}async function getGPTResult(_0x554e36,_0x49f749){const _0x382b87=_0x28228c;if(modelSelect[_0x382b87(0x174)]===_0x382b87(0x168)){await getWhisperResult();return;}const _0x358aaa=_0x554e36??promptInput['textContent'];if(isGeneratingResponse||!_0x358aaa)return;submitButton[_0x382b87(0x15c)][_0x382b87(0x150)](_0x382b87(0x146)),promptInput['textContent']='';!_0x49f749&&addResponse(!![],_0x382b87(0x154)+_0x358aaa+_0x382b87(0x165));const _0x444a9c=_0x49f749??addResponse(![]),_0x7a440c=document['getElementById'](_0x444a9c);loader(_0x7a440c),isGeneratingResponse=!![];try{const _0x46521a=modelSelect['value'],_0x1afb43=await fetch(API_URL+'get-prompt-result',{'method':_0x382b87(0x16b),'headers':{'Content-Type':_0x382b87(0x171)},'body':JSON['stringify']({'prompt':_0x358aaa,'model':_0x46521a})});if(!_0x1afb43['ok']){setRetryResponse(_0x358aaa,_0x444a9c),setErrorForResponse(_0x7a440c,'HTTP\x20Error:\x20'+await _0x1afb43['text']());return;}const _0x39c6a3=await _0x1afb43['text']();_0x46521a==='image'?_0x7a440c[_0x382b87(0x188)]=_0x382b87(0x16f)+_0x39c6a3+_0x382b87(0x163):_0x7a440c[_0x382b87(0x188)]=converter[_0x382b87(0x143)](_0x39c6a3['trim']()),promptToRetry=null,uniqueIdToRetry=null,regenerateResponseButton[_0x382b87(0x15a)][_0x382b87(0x172)]=_0x382b87(0x186),setTimeout(()=>{const _0x1b7fca=_0x382b87;responseList[_0x1b7fca(0x17b)]=responseList[_0x1b7fca(0x159)],hljs['highlightAll']();},0xa);}catch(_0xb481d8){setRetryResponse(_0x358aaa,_0x444a9c),setErrorForResponse(_0x7a440c,_0x382b87(0x14d)+_0xb481d8[_0x382b87(0x144)]);}finally{isGeneratingResponse=![],submitButton[_0x382b87(0x15c)][_0x382b87(0x189)](_0x382b87(0x146)),clearInterval(loadInterval);}}submitButton[_0x28228c(0x17a)](_0x28228c(0x15e),()=>{getGPTResult();}),regenerateResponseButton[_0x28228c(0x17a)]('click',()=>{regenerateGPTResult();}),document[_0x28228c(0x17a)](_0x28228c(0x161),function(){const _0x343e6d=_0x28228c;promptInput[_0x343e6d(0x18a)]();});
//obfuscated by abdul